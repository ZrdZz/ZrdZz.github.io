---
layout:     post
title:      CSS3
date:       2017-10-15
author:     zrd
catalog:    true
tags:
    - CSS
---

# 盒模型

所有文档元素都生成一个矩形框，成为元素框，描述了一个元素在文档布局中所占的空间大小。

![](https://developer.mozilla.org/files/72/boxmodel%20(1).png)

### 宽高

宽度和高度无法应用到行内非替换元素，且不能为负。

### auto

宽高和margin可以设置auto，对于块级元素来说，宽度设置为auto，则会尽可能宽(元素宽度 = 包含块宽度 - 元素水平外边距 - 元素水平边框宽度 - 元素水平内边距)，
高度设置为auto，则会尽可能窄(元素高度恰好包含其内联内容的高度)，若没有显式声明包含块height，则元素的百分数高度会重置为auto。

### 内边距

对于行内元素来说，左内边距应用到元素的开始处，右内边距应用到元素的结尾处，垂直内边距不影响行高，会影响自身尺寸(加背景色可看出)。若content area设置了背景、颜色或图片等，这些样式会延伸到padding。内边距不能为负值。

### 外边距

设置外边距会在元素外创建额外的空白，在这个区域中可以看到父元素的背景。对于行内元素来说，上下外边距对行内元素没有影响，上下外边距是透明的，没有任何视觉效果，左外边距应用到元素的开始处，右外边距应用到元素的结尾处。

### 边框

元素边框是围绕元素内容的内边距的一条或多条线。对于行内元素来说，边框画在各行之外的下一个像素上，由于各行紧挨，所以其边框会重叠，边框宽度不会影响行高，左右边框会显示在元素开始处和结尾处。

### box-sizing

CSS中盒模型分为两种，第一种是W3C的标准模型，另一种是IE怪异盒模型，前者的宽高定义的是元素框的内容区尺寸，后者的宽高定义的是可见元素框的尺寸(包括padding和border)。
应用于块级元素和替换元素，默认值为content-box

# BFC

指页面中的一个渲染区域，拥有一套渲染规则，决定其子元素如何定位，以及与其他元素的相互关系和作用。

### BFC生成条件

- float的值不为none
- overflow的值不为visible
- display的值为inline-block、table-cell、table-caption
- position的值为absolute或fixed

### BFC约束规则

- 生成BFC元素的子元素会一个接一个放置，垂直方向上他们的起点是一个包含块的顶部，两个相邻子元素之间垂直距离取决于margin，在BFC中相邻的块级元素外边距会折叠。
- 每一个子元素的左外边距和包含块的左边界相接触(对于从右到左的格式化，右外边距和右边界相接触)，除非这个子元素也创建了一个新的BFC。

### 几个小点

1. 每个元素的左外边距与包含块的左边界相接触(从左到右)，即使浮动元素也是如此。(这说明BFC中的子元素不会超出它的包含块，而position为absolute的元素可以超出它的包含块边界)
2. BFC的区域不会与float的元素区域重叠
3. 计算BFC的高度时，浮动子元素也参与计算
4. BFC是一个独立容器，里面的子元素不会影响外面的元素

### BFC的作用

1. 清除内部浮动，因为计算BFC的高度时，浮动元素也参与计算。
2. 防止垂直margin重叠，因为属于同一个BFC的两个相邻Box的margin会发生重叠，所以只要给一个Box包裹一层容器使用overflow:hidden或直接使用float和display    触就行了。(这里有个问题：两个或多个毗邻的普通流中的块元素垂直方向上的margin会折叠，不发生折叠的触发因素是浮动元素、inline-block元素、绝对定位元    素，只是创建BFC元素的子集，并不是说创建了BFC就不会发生折叠，比如说直接对元素使用overflow：hidden就没用)
3. 自适应两栏布局，元素触发BFC后不会与float Box重叠，它会自动填满除去浮动内容以外的剩余空间。要使两栏间有个margin时，可以给浮动元素设置一个            margin，要是给BFC元素设置margin的话，必须大于浮动元素的宽度才能看出效果。

# position属性

### 属性值

- static： 元素在正常流中(默认值)，top、left、right、bottom、z-index(仅在定位元素上生效)都会被忽略
- fixed： 相对于浏览器窗口定位
- relative： 相对于自己正常位置定位
- absolute： 相对于static定位以外的第一个父元素定位，若没有则相对于初始包含块，会使float失效
- sticky: 结合了relative和fixed两种定位功能于一体的特殊定位

fixed、absolute元素会脱离文档流，且会生成块级框，会和其他元素发生重叠，会影响其他元素位置，不会占据空间
relative元素不会脱离文档流，原本空间保留，不影响其他元素位置

### 偏移属性

指元素相对于包含块的偏移，若值为百分比，top和bottom相对于包含块高度的百分比，left和right相对于包含块宽度的百分比

# 清除浮动

1. 给父元素添加属性`overflow: hidden`
   缺点： 元素区域以外的部分会被隐藏
2. 使用额外的标签： 在浮动的盒子下面放一个标签，然后使用`clear: both`
   缺点： 会增加无用的标签，造成结构混乱
3. 使用伪元素清除浮动
   ```
   .clearfix:after{
     content: "";
     height: 0;
     display: block;    //默认为inline，clear只能应用于block元素
     visibility: hidden;
     clear: both;
   }
   ```

# CSS权重

### CSS三大特性：继承、优先级、层叠

继承：子类元素继承父类的样式。
优先级：不同类别样式的权重比较。
层叠：对多个样式来源进行叠加，最终确定结果。

### CSS选择符

1. 标签选择器(div、p)
2. 类选择器(class="className")
3. ID选择器(id="name")
4. 全局选择器(*)
5. 组合选择器(.nav ul li)
   - 后代选择器(以空格分隔)
   - 子元素选择器(以大于号分隔)
   - 相邻兄弟选择器(以加号分隔)
   - 后续兄弟选择器(以~分隔)
6. 群组选择器(div,span,img{color: red})
7. 字符串匹配的属性选择符(^、$、*)

### CSS优先级

!important > 行内样式 > ID选择器 > 类选择器 > 标签 | 伪类 | 属性选择 > 继承 > 浏览器默认属性
同一级别中后写的会覆盖先写的样式

### CSS优先级一种理解方式
　　
内联样式1000, id选择器100, class选择器10, 标签选择器1

